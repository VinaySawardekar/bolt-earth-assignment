<div class="dialog-container">
  <h2 mat-dialog-title>Add New Event</h2>
  <form [formGroup]="eventForm" (ngSubmit)="onSubmit()">
    <div mat-dialog-content>
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Event Title</mat-label>
        <input matInput formControlName="name" required />
        <mat-error *ngIf="eventForm.get('name')?.hasError('required')">
          Title is required
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Event Description</mat-label>
        <textarea
          matInput
          formControlName="description"
          required
          rows="4"
        ></textarea>
        <mat-error *ngIf="eventForm.get('description')?.hasError('required')">
          Description is required
        </mat-error>
      </mat-form-field>
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Choose a date</mat-label>
        <input
          matInput
          [matDatepicker]="picker"
          formControlName="date"
          required
        />
        <mat-hint>MM/DD/YYYY</mat-hint>
        <mat-error *ngIf="eventForm.get('date')?.hasError('dateBelowToday')">
          Date should be above today's date
        </mat-error>
        <mat-datepicker-toggle
          matIconSuffix
          [for]="picker"
        ></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Total Tickets</mat-label>
        <input matInput type="number" formControlName="totalTickets" required />
        <mat-error *ngIf="eventForm.get('totalTickets')?.hasError('required')">
          Total Tickets is required
        </mat-error>
        <mat-error
          *ngIf="eventForm.get('totalTickets')?.hasError('greaterThanZero')"
        >
          Total Tickets should be greater than 0
        </mat-error>
      </mat-form-field>
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Ticket Price</mat-label>
        <input matInput type="number" formControlName="ticketPrice" required />
        <mat-error *ngIf="eventForm.get('ticketPrice')?.hasError('required')">
          Ticket Price is required
        </mat-error>
        <mat-error
          *ngIf="eventForm.get('ticketPrice')?.hasError('greaterThanZero')"
        >
          Ticket Price should be greater than 0
        </mat-error>
      </mat-form-field>
    </div>

    <div mat-dialog-actions align="end">
      <button mat-button (click)="onCancel()">Cancel</button>
      <button
        mat-raised-button
        color="primary"
        type="submit"
        [disabled]="!eventForm.valid"
      >
        Save
      </button>
    </div>
  </form>
</div>
